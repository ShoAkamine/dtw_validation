legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.6)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 1, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.6)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 1)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(aes(x = as.integer(n_features_smop)),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(aes(x = as.integer(n_features_smop), y = average_distance_xyz),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", label.x.npc = "center") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(aes(x = as.integer(n_features_smop), y = average_distance_xyz),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
ggpubr::stat_cor(aes(x = as.integer(n_features_smop), y = average_distance_xyz),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman") +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
dis_f2f_n_features = df_dtw_f2f %>%
ggplot(aes(x = n_features_smop, y = average_distance_xyz,
group = n_features_smop)) +
ggdist::stat_halfeye(adjust = 1, width = 0.8, .width = 0,
point_color = NA, alpha = 0.5) +
geom_jitter(aes(x = stage(start = n_features_smop, after_scale = x - 0.23)),
size = 0.01, alpha = 0.5, width = 0.05, height = 0) +
geom_boxplot(width = .25, outlier.shape = NA, color = "black") +
geom_smooth(aes(x=as.numeric(n_features_smop), group=NA),
method = "lm", size = 1) +
stat_cor(aes(x = as.integer(n_features_smop), y = average_distance_xyz),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman", na.rm=T) +
labs(x="Number of similar features",
y="Normalized DTW distance") +
scale_y_continuous(breaks = seq(0, 0.6, 0.1)) +
coord_cartesian(xlim = c(-0.2, 4.6),
ylim = c(0, 0.65)) +
theme_classic(base_size = 14) +
theme(axis.text.x = element_text(colour = "black", size = 13),
axis.text.y = element_text(colour = "black", size = 13),
axis.title = element_text(face = 'bold'),
axis.title.x = element_text(vjust = -2),
axis.title.y = element_text(vjust = 2),
strip.text = element_text(face = 'bold'),
legend.position = "none",
plot.margin = unit(c(1.1,1.1,1.1,1.1), "lines"))
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features + stat_cor(aes(x = as.integer(n_features_smop), y = average_distance_xyz),
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman")
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features + stat_cor(
p.accuracy = 0.001, r.accuracy = 0.01,
method="spearman")
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features + stat_cor(method="spearman")
# ggExtra::ggMarginal(dis_f2f_n_features, fill = "lightblue")
dis_f2f_n_features + stat_cor(method="pearson")
library(tidyverse)
library(ggtext)
library(plotly)
library(gridExtra)    #for grid.arrange()
library(ggpubr)       #for adding stats to plots
library(patchwork)    #for combined plots
library(plotrix)      #std.error()
library(lme4)
library(lmerTest)
library(jtools)       #summ()
library(glmmTMB)
library(performance)  #check_model()
library(sjPlot)       #plot_model()
library(kableExtra)
library(svglite)      #for producing svg images
### Set global options
options(digits = 3) # set the default number of digits to 3
options(scipen=999) # turn off scientific notation (e.g., e-10)
options(dplyr.summarise.inform = FALSE)
options(render = 'normal_print')
### Rmd settings
knitr::opts_chunk$set(echo=TRUE, warning=FALSE, message=FALSE)
### Load data
df_dtw_f2f = read_csv("data/dtw_distance_f2f.csv") %>%
select(comparison_id, pair, target, average_distance,
shape, movement, orientation, position) %>%
mutate(dataset = "f2f",
pair = as.factor(pair),
target = as.factor(target),
n_features_smop = shape + movement + orientation + position,
n_features_smo = shape + movement + orientation,
handshape = factor(ifelse(shape == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
movement = factor(ifelse(movement == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
orientation = factor(ifelse(orientation == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
position = factor(ifelse(position == 1, "similar", "not similar"),
levels = c("similar", "not similar")))
df_dtw_zoom = read_csv("data/dtw_distance_zoom.csv") %>%
rename(target = target_2) %>%
select(comparison_id, pair, target, average_distance, average_distance, hands_dtw) %>%
mutate(dataset = "zoom",
pair = as.factor(pair),
target = as.factor(target))
df_sim_coding_zoom = read_csv("data/similarity_coding_zoom.csv") %>%
rename(position = location) %>%
mutate(total_similarity = handshape + movement + orientation + position,
### binary coding
handshape_bin = ifelse(handshape >= 4, 1, 0),
movement_bin = ifelse(movement >= 4, 1, 0),
orientation_bin = ifelse(orientation >= 4, 1, 0),
position_bin = ifelse(position >= 4, 1, 0),
n_features = handshape_bin + movement_bin + orientation_bin + position_bin,
handshape_bin = factor(handshape_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
movement_bin = factor(movement_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
orientation_bin = factor(orientation_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
position_bin = factor(position_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
### z-score
handshape_z = scale(handshape)[,1],
movement_z = scale(movement)[,1],
orientation_z = scale(orientation)[,1],
position_z = scale(position)[,1],
total_similarity_z = scale(total_similarity)[,1]) %>%
select(-notes)
### combine dtw and coding data for zoom dataset
df_dtw_zoom = right_join(df_dtw_zoom, df_sim_coding_zoom)
### convert to long format for data visualization
### f2f
df_dtw_f2f_long = df_dtw_f2f %>%
pivot_longer(cols = c("handshape", "movement", "orientation", "position"),
names_to = "feature",
values_to = "similarity")
### zoom
df_dtw_zoom_long = df_dtw_zoom %>%
pivot_longer(cols = c("handshape", "movement", "orientation", "position"),
names_to = "feature",
values_to = "similarity") %>%
select(-ends_with("_z"), -ends_with("_bin"))
df_dtw_zoom_long_bin = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_bin", "movement_bin", "orientation_bin", "position_bin"),
names_to = "feature",
values_to = "similarity_bin") %>%
mutate(feature = factor(sub("_bin", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(-handshape, -movement, -orientation, -position, -ends_with("_z"))
df_dtw_zoom_long_z = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_z", "movement_z", "orientation_z", "position_z"),
names_to = "feature",
values_to = "similarity_z") %>%
mutate(feature = factor(sub("_z", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(-handshape, -movement, -orientation, -position, -ends_with("_bin"))
df_dtw_zoom_long = left_join(df_dtw_zoom_long, df_dtw_zoom_long_z) %>%
left_join(., df_dtw_zoom_long_bin) %>%
select(-starts_with("total_similarity"))
## for partial residual plot
df_dtw_zoom$handshape_res = residuals(lm(handshape ~ movement + orientation + position, data = df_dtw_zoom))
df_dtw_zoom$movement_res = residuals(lm(movement ~ handshape + orientation + position, data = df_dtw_zoom))
df_dtw_zoom$orientation_res = residuals(lm(orientation ~ handshape + movement + position, data = df_dtw_zoom))
df_dtw_zoom$position_res = residuals(lm(position ~ handshape + movement + orientation, data = df_dtw_zoom))
df_dtw_zoom_long_res = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_res", "movement_res", "orientation_res", "position_res"),
names_to = "feature",
values_to = "similarity_res") %>%
mutate(feature = factor(sub("_res", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(!dataset:total_similarity_z)
View(df_dtw_f2f)
library(tidyverse)
library(ggtext)
library(plotly)
library(gridExtra)    #for grid.arrange()
library(ggpubr)       #for adding stats to plots
library(patchwork)    #for combined plots
library(plotrix)      #std.error()
library(lme4)
library(lmerTest)
library(jtools)       #summ()
library(glmmTMB)
library(performance)  #check_model()
library(sjPlot)       #plot_model()
library(kableExtra)
library(svglite)      #for producing svg images
### Set global options
options(digits = 3) # set the default number of digits to 3
options(scipen=999) # turn off scientific notation (e.g., e-10)
options(dplyr.summarise.inform = FALSE)
options(render = 'normal_print')
### Rmd settings
knitr::opts_chunk$set(echo=TRUE, warning=FALSE, message=FALSE)
### Load data
df_dtw_f2f = read_csv("data/dtw_distance_f2f.csv") %>%
select(comparison_id, pair, target, average_distance,
shape, movement, orientation, position) %>%
mutate(dataset = "f2f",
pair = as.factor(pair),
target = as.factor(target),
n_features_smop = shape + movement + orientation + position,
n_features_smo = shape + movement + orientation,
handshape = factor(ifelse(shape == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
movement = factor(ifelse(movement == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
orientation = factor(ifelse(orientation == 1, "similar", "not similar"),
levels = c("similar", "not similar")),
position = factor(ifelse(position == 1, "similar", "not similar"),
levels = c("similar", "not similar")))
df_dtw_zoom = read_csv("data/dtw_distance_zoom.csv") %>%
rename(target = target_2) %>%
select(comparison_id, pair, target, average_distance, average_distance, hands_dtw) %>%
mutate(dataset = "zoom",
pair = as.factor(pair),
target = as.factor(target))
df_sim_coding_zoom = read_csv("data/similarity_coding_zoom.csv") %>%
rename(position = location) %>%
mutate(total_similarity = handshape + movement + orientation + position,
### binary coding
handshape_bin = ifelse(handshape >= 4, 1, 0),
movement_bin = ifelse(movement >= 4, 1, 0),
orientation_bin = ifelse(orientation >= 4, 1, 0),
position_bin = ifelse(position >= 4, 1, 0),
n_features = handshape_bin + movement_bin + orientation_bin + position_bin,
handshape_bin = factor(handshape_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
movement_bin = factor(movement_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
orientation_bin = factor(orientation_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
position_bin = factor(position_bin,
levels = c(1, 0),
labels = c("similar", "not similar")),
### z-score
handshape_z = scale(handshape)[,1],
movement_z = scale(movement)[,1],
orientation_z = scale(orientation)[,1],
position_z = scale(position)[,1],
total_similarity_z = scale(total_similarity)[,1]) %>%
select(-notes)
### combine dtw and coding data for zoom dataset
df_dtw_zoom = right_join(df_dtw_zoom, df_sim_coding_zoom)
### convert to long format for data visualization
### f2f
df_dtw_f2f_long = df_dtw_f2f %>%
pivot_longer(cols = c("handshape", "movement", "orientation", "position"),
names_to = "feature",
values_to = "similarity")
### zoom
df_dtw_zoom_long = df_dtw_zoom %>%
pivot_longer(cols = c("handshape", "movement", "orientation", "position"),
names_to = "feature",
values_to = "similarity") %>%
select(-ends_with("_z"), -ends_with("_bin"))
df_dtw_zoom_long_bin = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_bin", "movement_bin", "orientation_bin", "position_bin"),
names_to = "feature",
values_to = "similarity_bin") %>%
mutate(feature = factor(sub("_bin", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(-handshape, -movement, -orientation, -position, -ends_with("_z"))
df_dtw_zoom_long_z = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_z", "movement_z", "orientation_z", "position_z"),
names_to = "feature",
values_to = "similarity_z") %>%
mutate(feature = factor(sub("_z", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(-handshape, -movement, -orientation, -position, -ends_with("_bin"))
df_dtw_zoom_long = left_join(df_dtw_zoom_long, df_dtw_zoom_long_z) %>%
left_join(., df_dtw_zoom_long_bin) %>%
select(-starts_with("total_similarity"))
## for partial residual plot
df_dtw_zoom$handshape_res = residuals(lm(handshape ~ movement + orientation + position, data = df_dtw_zoom))
df_dtw_zoom$movement_res = residuals(lm(movement ~ handshape + orientation + position, data = df_dtw_zoom))
df_dtw_zoom$orientation_res = residuals(lm(orientation ~ handshape + movement + position, data = df_dtw_zoom))
df_dtw_zoom$position_res = residuals(lm(position ~ handshape + movement + orientation, data = df_dtw_zoom))
df_dtw_zoom_long_res = df_dtw_zoom %>%
pivot_longer(cols = c("handshape_res", "movement_res", "orientation_res", "position_res"),
names_to = "feature",
values_to = "similarity_res") %>%
mutate(feature = factor(sub("_res", "", feature),
levels = c("handshape", "movement", "orientation", "position"))) %>%
select(!dataset:total_similarity_z)
nrow(filter(df_dtw_f2f), shape==1)
nrow(filter(df_dtw_f2f, shape==1))
nrow(filter(df_dtw_zoom, handshape_bin==1))
nrow(filter(df_sim_coding_zoom, handshape_bin==1))
nrow(filter(df_sim_coding_zoom, handshape_bin=="similar"))
126/406
